{% extends "base.html" %}

{% block title %}How It Works - SchedShare{% endblock %}

{% block content %}
<style>
    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-tertiary) 100%);
        border: 1px solid var(--border-primary);
        border-radius: 20px;
        padding: 3rem 2rem;
        text-align: center;
        margin-bottom: 3rem;
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
    }

    .hero-title {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 1rem;
    }

    .hero-subtitle {
        font-size: 1.2rem;
        color: var(--text-secondary);
        margin-bottom: 2rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    /* Video Container */
    .video-container {
        background: var(--bg-card);
        border: 1px solid var(--border-primary);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 3rem;
        box-shadow: var(--shadow-3d);
        position: relative;
        overflow: hidden;
    }

    .video-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
    }

    .video-wrapper {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: var(--shadow-lg);
    }

    .video-wrapper iframe {
        width: 100%;
        height: 450px;
        border: none;
        border-radius: 12px;
    }

    /* How It Works Steps */
    .steps-section {
        background: var(--bg-card);
        border: 1px solid var(--border-primary);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 3rem;
        box-shadow: var(--shadow-sm);
    }

    .steps-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .step-card {
        background: var(--bg-tertiary);
        border: 1px solid var(--border-primary);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        transition: all var(--transition-normal);
        position: relative;
        overflow: hidden;
    }

    .step-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        transform: scaleX(0);
        transition: transform var(--transition-normal);
    }

    .step-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-md);
        border-color: var(--accent-primary);
    }

    .step-card:hover::before {
        transform: scaleX(1);
    }

    .step-number {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
        margin: 0 auto 1rem;
        box-shadow: var(--shadow-md);
    }

    .step-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .step-description {
        color: var(--text-secondary);
        line-height: 1.6;
    }

    /* Features Section */
    .features-section {
        background: var(--bg-card);
        border: 1px solid var(--border-primary);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 3rem;
        box-shadow: var(--shadow-sm);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
    }

    .feature-card {
        background: var(--bg-tertiary);
        border: 1px solid var(--border-primary);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        transition: all var(--transition-normal);
    }

    .feature-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-sm);
        border-color: var(--accent-secondary);
    }

    .feature-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 1.5rem;
        color: white;
    }

    .feature-title {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .feature-description {
        color: var(--text-secondary);
        font-size: 0.9rem;
        line-height: 1.5;
    }

    /* CTA Section */
    .cta-section {
        background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
        border-radius: 16px;
        padding: 3rem 2rem;
        text-align: center;
        margin-bottom: 2rem;
        position: relative;
        overflow: hidden;
    }

    .cta-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        opacity: 0.3;
    }

    .cta-content {
        position: relative;
        z-index: 1;
    }

    .cta-title {
        font-size: 2rem;
        font-weight: 700;
        color: white;
        margin-bottom: 1rem;
    }

    .cta-subtitle {
        font-size: 1.1rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .cta-button {
        background: white;
        color: var(--accent-primary);
        border: none;
        padding: 1rem 2rem;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1.1rem;
        text-decoration: none;
        display: inline-block;
        transition: all var(--transition-normal);
        box-shadow: var(--shadow-md);
    }

    .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        color: var(--accent-primary);
        text-decoration: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2rem;
        }
        
        .video-wrapper iframe {
            height: 250px;
        }
        
        .steps-grid {
            grid-template-columns: 1fr;
        }
        
        .features-grid {
            grid-template-columns: 1fr;
        }
        
        .cta-title {
            font-size: 1.5rem;
        }
    }
</style>

<!-- Hero Section -->
<div class="hero-section">
    <h1 class="hero-title">How SchedShare Works</h1>
    <p class="hero-subtitle">
        Watch our demo video to see how easy it is to transform your course schedule PDF into calendar events in just a few clicks.
    </p>
</div>

<!-- Video Container -->
<div class="video-container">
    <h2 class="h4 fw-bold text-light mb-3">Watch the Demo</h2>
    <div class="video-wrapper">
        <iframe 
            src="https://www.youtube.com/embed/of8ap_x3Kk4?rel=0&modestbranding=1" 
            title="SchedShare Demo Video"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>
</div>

<!-- How It Works Steps -->
<div class="steps-section">
    <h2 class="h4 fw-bold text-light mb-3">How It Works</h2>
    <div class="steps-grid">
        <div class="step-card">
            <div class="step-number">1</div>
            <h3 class="step-title">Upload PDF</h3>
            <p class="step-description">
                Drag and drop or select your course schedule PDF from VIU Student Records. Our smart parser extracts all the details automatically.
            </p>
        </div>
        <div class="step-card">
            <div class="step-number">2</div>
            <h3 class="step-title">Select Events</h3>
            <p class="step-description">
                Choose which courses to add to your calendar from the parsed schedule. You can select individual courses or all at once.
            </p>
        </div>
        <div class="step-card">
            <div class="step-number">3</div>
            <h3 class="step-title">Add to Calendar</h3>
            <p class="step-description">
                Sync with Google Calendar, Apple Calendar, or download ICS for Outlook. Your events are created with proper recurring schedules.
            </p>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="features-section">
    <h2 class="h4 fw-bold text-light mb-3">Why Choose SchedShare?</h2>
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="bi bi-cpu"></i>
            </div>
            <h3 class="feature-title">Smart Parsing</h3>
            <p class="feature-description">
                Automatically extracts course details like times, locations, and instructors from your PDF with high accuracy.
            </p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="bi bi-calendar-check"></i>
            </div>
            <h3 class="feature-title">Multiple Calendars</h3>
            <p class="feature-description">
                Seamlessly sync with Google Calendar, Apple Calendar, or download ICS files for Outlook and other apps.
            </p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="bi bi-arrow-repeat"></i>
            </div>
            <h3 class="feature-title">Recurring Events</h3>
            <p class="feature-description">
                Automatically creates properly scheduled recurring events for the entire semester with correct end dates.
            </p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="bi bi-shield-check"></i>
            </div>
            <h3 class="feature-title">Secure & Private</h3>
            <p class="feature-description">
                Your files are processed securely and automatically deleted after your session. We never store your personal data.
            </p>
        </div>
    </div>
</div>

<!-- Call to Action -->
<div class="cta-section">
    <div class="cta-content">
        <h2 class="cta-title">Ready to Get Started?</h2>
        <p class="cta-subtitle">
            Join {{ uploads_text }} VIU students who have already saved hours of manual calendar entry. Transform your course schedule into calendar events in less than a minute.
        </p>
        <a href="{{ url_for('upload') }}" class="cta-button">
            <i class="bi bi-play-circle me-2"></i>
            Start Now - It's Free
        </a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Add smooth scroll behavior for better UX
        document.documentElement.style.scrollBehavior = 'smooth';
        
        // Add loading animation for video
        const iframe = document.querySelector('.video-wrapper iframe');
        if (iframe) {
            iframe.addEventListener('load', () => {
                iframe.style.opacity = '1';
            });
            iframe.style.opacity = '0';
            iframe.style.transition = 'opacity 0.3s ease';
        }
        
        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Observe all cards for animation
        document.querySelectorAll('.step-card, .feature-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    });
</script>
{% endblock %}
